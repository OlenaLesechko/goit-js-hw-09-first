{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackFormData = \"feedback-form-state\";\n\nconst form = document.querySelector(\".feedback-form\");\n\ntry {\n    const dataFromStorage = JSON.parse(localStorage.getItem(feedbackFormData));\n    const {email, message} = dataFromStorage;\n    \n    if(dataFromStorage) {\n        form.elements.email.value = email;\n        form.elements.message.value = message;\n    };\n\n} catch {\n    if (!JSON.parse(localStorage.getItem(feedbackFormData))) {\n        console.log();\n    }else {\n        console.log(\"Parse error!\");\n    }\n}\n\nform.addEventListener(\"input\", () => {\n    const formData = new FormData(form);\n    const formObject = {};\n\n    formData.forEach((value, key) => {\n        formObject[key] = value.trim();\n    })\n\n    localStorage.setItem(feedbackFormData, JSON.stringify(formObject))\n})\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const formData = JSON.parse(localStorage.getItem(feedbackFormData));\n\n    if (formData && formData.email !== \"\" && formData.message !== \"\") {\n        console.log(formData);\n        localStorage.removeItem(feedbackFormData);\n        form.reset();\n    } else {\n        alert(\"Все поля формы должны быть заполнены\");\n    }\n});"],"names":["feedbackFormData","form","dataFromStorage","email","message","formData","formObject","value","key","event"],"mappings":"wFAAA,MAAMA,EAAmB,sBAEnBC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,GAAI,CACA,MAAMC,EAAkB,KAAK,MAAM,aAAa,QAAQF,CAAgB,CAAC,EACnE,CAAC,MAAAG,EAAO,QAAAC,CAAO,EAAIF,EAEtBA,IACCD,EAAK,SAAS,MAAM,MAAQE,EAC5BF,EAAK,SAAS,QAAQ,MAAQG,EAGtC,MAAE,CACO,KAAK,MAAM,aAAa,QAAQJ,CAAgB,CAAC,EAGlD,QAAQ,IAAI,cAAc,EAF1B,QAAQ,IAAG,CAInB,CAEAC,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMI,EAAW,IAAI,SAASJ,CAAI,EAC5BK,EAAa,CAAA,EAEnBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAWE,GAAOD,EAAM,KAAI,CACpC,CAAK,EAED,aAAa,QAAQP,EAAkB,KAAK,UAAUM,CAAU,CAAC,CACrE,CAAC,EAEDL,EAAK,iBAAiB,SAAWQ,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMJ,EAAW,KAAK,MAAM,aAAa,QAAQL,CAAgB,CAAC,EAE9DK,GAAYA,EAAS,QAAU,IAAMA,EAAS,UAAY,IAC1D,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWL,CAAgB,EACxCC,EAAK,MAAK,GAEV,MAAM,sCAAsC,CAEpD,CAAC"}